ori             r3,  r0,  (1,0)
ori             r4,  r0,  (2,0)
ori             r5,  r0,  (1,2)
setchmap        1,   r3                 ; map 1 = cluster 1 instructions
setchmap        2,   r4                 ; map 2 = cluster 2
setchmap        3,   r5                 ; map 3 = cluster 1 data
rmtexecute                    > 1       ; start sending instructions to cluster 1
p?ori           r4,  r0,  (12,0)
p?ori           r7,  r0,  (13,0)
p?ori           r8,  r0,  (14,0)
p?ori           r9,  r0,  (2,2)
p?setchmap      0,   r4                 ; instruction memory = map 0
p?setchmap      1,   r7                 ; input image memory = map 1
p?ori           r0,  r0,  (1,1) > 0     ; connect to instruction memory
p?setchmap      2,   r8                 ; output image memory = map 2
p?setchmap      3,   r9                 ; next core in pipeline = map 3
p?fetch         r0,       0
rmtexecute                    > 2       ; start sending instructions to cluster 2
p?ori           r7,  r0,  (12,1)
p?ori           r8,  r0,  (13,1)
p?ori           r9,  r0,  (14,1)
p?ori           r10, r0,  (15,0)
p?setchmap      0,   r7                 ; instruction memory = map 0
p?setchmap      1    r8                 ; weights memory = map 1
p?ori           r0,  r0,  (2,1) > 0     ; connect to instruction memory
p?setchmap      2,   r9                 ; input image memory = map 2
p?setchmap      3,   r10                ; output image memory = map 3
p?fetch         r0,       328
ori             r0,  r0,  512 > 3       ; Tell Cluster 1 where its first block is
ori.eop         r0,  r0,  0   > 3       ; Tell Cluster 1 where to store its output
