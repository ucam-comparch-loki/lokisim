#_start:

# <0,8,0,3,4> = 0x8034 (First memory bank, first channel, eight bank group)
 lli                r20, (0,8,0,3,5)
 lui                r20, 0x2000               # Return addr = channel 1

# <0,8,1,3,4> = 0x8134 (First memory bank, second channel, eight bank group)
 lli                r21, (0,8,0,3,5)
 lui                r21, 0x4000               # Return addr = channel 2

 setchmapi          0,   r20                  # Set instruction fetch channel to memory bank
 setchmapi          1,   r21                  # Set data fetch channel to memory bank

# ori                r0,  r0, 0x00340103 -> 0  # Configuration command: General purpose cache, eight banks
# 00 = command, 3 = log2(associativity), 4 = log2(linesize), 01 = cache mode?, 03 = log2(banks)
 lli                r22, 0x0103
 lui                r22, 0x0005
 addu               r0,  r22, r0        -> 0

 fetchr.eop         0x1000                    # Fetch first instruction packet of program
