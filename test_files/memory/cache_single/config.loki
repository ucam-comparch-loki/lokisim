# Configure single general purpose cache bank

  ori                r3, r0, (0,8,0,2)         # First memory bank, first channel, quad bank group

  or                 r0, r0, r0                # Make sure there are no timing problems
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0

  setchmap           0, r3                     # Set fetch channel to memory bank

  ori                r4, r0, 0x00000102 > 0    # Configuration command: General purpose cache, four banks
  ori                r4, r0, 0x01000000 > 0    # Table update command 
  ori                r4, r0, (0,0,1) > 0       # IPK cache of first core

  or                 r0, r0, r0                # Wait for memory configuration to complete
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0
  or                 r0, r0, r0

  fetch.eop          r0, 0                     # Fetch first instruction packet of program
