ori                r3, r0, (0,8,0,3)         # First memory bank, first channel, eight bank group

or                 r0, r0, r0                # Make sure there are no timing problems
or                 r0, r0, r0
or                 r0, r0, r0
or                 r0, r0, r0

setchmap           0, r3                     # Set fetch channel to memory bank

ori                r4, r0, 0x00000103 > 0    # Configuration command: General purpose cache, eight banks
ori                r4, r0, 0x01000000 > 0    # Table update command 
ori                r4, r0, (0,0,1) > 0       # IPK cache of first core

or                 r0, r0, r0                # Wait for memory configuration to complete
or                 r0, r0, r0
or                 r0, r0, r0
or                 r0, r0, r0
or                 r0, r0, r0
or                 r0, r0, r0
or                 r0, r0, r0
or                 r0, r0, r0

ori                r5, r0, (0,8,1,3)         # Fifth memory bank, first channel, quad bank group
setchmap           1, r5                     # Set fetch channel to memory bank

or                 r0, r0, r0                # Make sure there are no timing problems
or                 r0, r0, r0
or                 r0, r0, r0
or                 r0, r0, r0

ori                r4, r0, 0x01000000 > 1    # Table update command 
ori                r4, r0, (0,0,2) > 1       # First data channel of first core
ori                r0, ch0, r0               # Wait for memory configuration to complete

fetch.eop          r0, 4096                  # Fetch first instruction packet of program

